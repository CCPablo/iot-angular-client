<form [formGroup]="submitForm" class="graph-forms-container">
  <mat-form-field class="units-selector-field">
    <mat-label>Unidades a graficar</mat-label>
    <mat-select [formControl]="unitControl" #unitSelect multiple>

      <mat-select-trigger>
        <mat-chip-list [selectable]="false">
          <mat-chip
              *ngFor="let unit of unitControl.value"
              [ngClass]="{'room-chip': unit.id==2, 'kitchen-chip': unit.id==1}"
              selectable=false
              selected=false
              [removable]=true
              (removed)="onRemoveUnit(unit)">
              {{unit.name}}
              <mat-icon matChipRemove>cancel</mat-icon>
          </mat-chip>
        </mat-chip-list>
      </mat-select-trigger>

      <mat-optgroup *ngFor="let device of devices" [label]="device.name">
        <mat-option *ngFor="let unit of device.units" #unitOptions
        [value]="unit">
        {{unit.name}}
        </mat-option>
      </mat-optgroup>
    </mat-select>
  </mat-form-field>

  <mat-form-field class="time-field">
    <mat-label class="interval-time-label">Tiempo de intervalo</mat-label>
    <app-input-time matInput [formControl]="intervalControl"></app-input-time>
    <mat-hint >Tiempo de intervalo</mat-hint>
    <mat-error *ngIf="intervalControl.invalid">Formato: [HH:MM:SS:]MS</mat-error>
  </mat-form-field>

  <mat-form-field class="nvalues-field">
    <input matInput type=number [formControl]="nValuesControl">
    <mat-hint >Numero de valores</mat-hint>
    <mat-error *ngIf="nValuesControl.invalid">Formato: NÃºmero</mat-error>
  </mat-form-field>

  <button mat-flat-button (click)="submit()"> Graficar</button>
</form>

